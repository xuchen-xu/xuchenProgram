{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nvar _jsxFileName = \"D:\\\\react\\u6BD5\\u4E1A\\u8BBE\\u8BA1\\\\\\u5B9E\\u8DF5\\u8D44\\u6599\\\\20210201\\\\20210201\\\\code\\\\next-ts\\u6A21\\u677F\\\\my-app\\\\pages\\\\components\\\\Slide.tsx\";\nvar __jsx = React.createElement;\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React from \"react\";\n\nvar Slide = /*#__PURE__*/function (_React$Component) {\n  _inherits(Slide, _React$Component);\n\n  var _super = _createSuper(Slide);\n\n  function Slide() {\n    var _this;\n\n    _classCallCheck(this, Slide);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n    _this.state = {\n      slideUrl: [],\n      index: 0,\n      liWidth: document.body.clientWidth,\n      posLeft: 0\n    };\n    return _this;\n  }\n  /*\r\n  重置图片宽度\r\n  */\n\n\n  _createClass(Slide, [{\n    key: \"onWindowResize\",\n    value: function onWindowResize() {\n      var liWidth2 = document.body.clientWidth;\n      this.setState({\n        liWidth: liWidth2\n      });\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.setState({\n        slideUrl: [{\n          'imageUrl': img1\n        }, {\n          'imageUrl': img2\n        }, {\n          'imageUrl': img3\n        }, {\n          'imageUrl': img4\n        }, {\n          'imageUrl': img5\n        }],\n        index: 0\n      });\n      window.addEventListener('resize', this.onWindowResize.bind(this));\n      this.tick();\n    }\n    /**\r\n    * 组件即将卸载时调用。一般在componentDidMount注册的监听事件需要在该方法中注销删除，以免不必要的错误.\r\n    * @return void\r\n    */\n\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      //在组件即将销毁的时候取消resize的监听\n      window.removeEventListener('resize', this.onWindowResize.bind(this));\n      this._isMounted = false;\n      clearInterval(this.play);\n    }\n    /*轮播的功能*/\n\n  }, {\n    key: \"turn\",\n    value: function turn(direction) {\n      var _this2 = this;\n\n      var index = this.state.index;\n      this._isMounted = true;\n\n      if (direction === 'left') {\n        index++;\n        index = index >= this.state.slideUrl.length ? 0 : index;\n      } else if (direction === 'right') {\n        index--;\n        index = index < 0 ? this.state.slideUrl.length - 1 : index;\n      }\n\n      if (this._isMounted) {\n        this.setState({\n          posLeft: -this.state.liWidth * index,\n          index: index\n        }, function () {\n          _this2.state.index = index;\n        });\n      }\n    }\n    /*定时器*/\n\n  }, {\n    key: \"tick\",\n    value: function tick() {\n      var _this3 = this;\n\n      this.play = setInterval(function () {\n        _this3.turn('left');\n      }, 1000);\n    }\n  }, {\n    key: \"over\",\n    value: function over() {\n      clearInterval(this.play);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this4 = this;\n\n      var bannerList = this.state.slideUrl;\n      var arr = [];\n\n      for (var i = 0; i < bannerList.length; i++) {\n        arr[i] = __jsx(\"span\", {\n          className: this.state.index === i ? 'circle active' : 'circle',\n          key: i,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 22\n          }\n        });\n      }\n\n      return __jsx(\"div\", {\n        className: \"banner\",\n        style: {\n          width: this.state.liWidth\n        },\n        onMouseOver: this.over.bind(this),\n        onMouseOut: this.tick.bind(this),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 17\n        }\n      }, __jsx(\"ul\", {\n        className: \"bannerUl\",\n        style: {\n          'left': this.state.posLeft,\n          width: this.state.liWidth * this.state.slideUrl.length,\n          Transition: 'all 0.4s',\n          WebkitTransition: 'all 0.4s',\n          // note the capital 'W' here\n          msTransition: 'all 0.4s' // 'ms' is the only lowercase vendor prefix\n\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 16\n        }\n      }, bannerList.map(function (value, key) {\n        return __jsx(\"li\", {\n          key: key,\n          style: {\n            width: _this4.state.liWidth\n          },\n          __self: _this4,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 25\n          }\n        }, __jsx(\"img\", {\n          src: value.imageUrl,\n          __self: _this4,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 111,\n            columnNumber: 24\n          }\n        }));\n      })), __jsx(\"div\", {\n        className: \"ban_btn\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 16\n        }\n      }, __jsx(\"span\", {\n        onClick: this.turn.bind(this, 'left'),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 21\n        }\n      }, \"\\u5DE6\"), __jsx(\"span\", {\n        onClick: this.turn.bind(this, 'right'),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 21\n        }\n      }, \"\\u53F3\")), __jsx(\"div\", {\n        className: \"circles\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 16\n        }\n      }, arr));\n    }\n  }]);\n\n  return Slide;\n}(React.Component);\n\nexport default Slide;","map":{"version":3,"sources":["D:/react毕业设计/实践资料/20210201/20210201/code/next-ts模板/my-app/pages/components/Slide.tsx"],"names":["React","Slide","args","state","slideUrl","index","liWidth","document","body","clientWidth","posLeft","liWidth2","setState","img1","img2","img3","img4","img5","window","addEventListener","onWindowResize","bind","tick","removeEventListener","_isMounted","clearInterval","play","direction","length","setInterval","turn","bannerList","arr","i","width","over","Transition","WebkitTransition","msTransition","map","value","key","imageUrl","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\r\n\r\nclass Slide extends React.Component {\r\n    constructor(...args) {\r\n        super(...args)\r\n        this.state = {\r\n            slideUrl: [],\r\n            index: 0,\r\n            liWidth: document.body.clientWidth,\r\n            posLeft: 0\r\n        }\r\n    }\r\n /*\r\n重置图片宽度\r\n*/\r\n    onWindowResize() {\r\n        let liWidth2 = document.body.clientWidth;\r\n        this.setState({\r\n            liWidth: liWidth2\r\n        })\r\n    }\r\n    componentDidMount() {\r\n        this.setState({\r\n            slideUrl: [\r\n                {\r\n                    'imageUrl': img1\r\n                },\r\n                {\r\n                    'imageUrl': img2\r\n                },\r\n                {\r\n                    'imageUrl': img3\r\n                }\r\n                , {\r\n                    'imageUrl': img4\r\n                },\r\n                {\r\n                    'imageUrl': img5\r\n                }\r\n            ],\r\n            index: 0,\r\n        })\r\n        window.addEventListener('resize', this.onWindowResize.bind(this));\r\n        this.tick();\r\n    }\r\n    /**\r\n    * 组件即将卸载时调用。一般在componentDidMount注册的监听事件需要在该方法中注销删除，以免不必要的错误.\r\n    * @return void\r\n    */\r\n    componentWillUnmount() {\r\n        //在组件即将销毁的时候取消resize的监听\r\n        window.removeEventListener('resize', this.onWindowResize.bind(this));\r\n        this._isMounted = false;\r\n        clearInterval(this.play)\r\n\r\n    }\r\n/*轮播的功能*/\r\n    turn(direction) {\r\n        var index = this.state.index;\r\n        this._isMounted = true;\r\n        if (direction === 'left') {\r\n            index++\r\n            index = index >= this.state.slideUrl.length ? 0 : index;\r\n        } else if (direction === 'right') {\r\n            index--\r\n            index = index < 0 ? this.state.slideUrl.length - 1 : index;\r\n        }\r\n        if (this._isMounted) {\r\n            this.setState({\r\n                posLeft: -this.state.liWidth * (index),\r\n                index: index\r\n            }, () => {\r\n                this.state.index = index\r\n            })\r\n        }\r\n    }\r\n/*定时器*/\r\n    tick() {\r\n        this.play = setInterval(() => {\r\n            this.turn('left');\r\n        }, 1000)\r\n    }\r\n    over() {\r\n        clearInterval(this.play)\r\n    }\r\n    render() {\r\n        const bannerList = this.state.slideUrl;\r\n        let arr = [];\r\n        for (let i = 0; i < bannerList.length; i++) {\r\n            arr[i] = <span className= {this.state.index === i ? 'circle active' : 'circle'} key={i}></span>\r\n        }\r\n       \r\n        return (<div className=\"banner\"\r\n            style={{\r\n                width: this.state.liWidth\r\n            }}\r\n            onMouseOver={this.over.bind(this)}\r\n            onMouseOut={this.tick.bind(this)}\r\n            >\r\n               <ul className='bannerUl' style={{\r\n                'left': this.state.posLeft,\r\n                width: this.state.liWidth * this.state.slideUrl.length,\r\n                Transition: 'all 0.4s',\r\n                WebkitTransition: 'all 0.4s', // note the capital 'W' here\r\n                msTransition: 'all 0.4s' // 'ms' is the only lowercase vendor prefix\r\n            }}>\r\n                  {\r\n            bannerList.map((value, key) => {\r\n                return (<li key={key} style={{\r\n                        width: this.state.liWidth\r\n                    }}><img src={value.imageUrl}/></li>)\r\n            })\r\n            }\r\n               </ul>\r\n               <div  className=\"ban_btn\">\r\n                    <span onClick={this.turn.bind(this, 'left')}>左</span>\r\n                    <span onClick={this.turn.bind(this, 'right')}>右</span>\r\n               </div>\r\n               <div className='circles'>\r\n               {arr }\r\n            </div>\r\n           </div>\r\n        )\r\n    }\r\n}\r\nexport default Slide;"]},"metadata":{},"sourceType":"module"}